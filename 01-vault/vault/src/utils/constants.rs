use alloy::primitives::Bytes;

pub static PROJECT_NAME: &str = "vault";

pub fn get_env(key: &str) -> String {
    std::env::var(key).unwrap_or(String::from(""))
}

#[derive(Debug, Clone)]
pub struct Env {
    pub https_url: String,
    pub wss_url: String,
    pub bot_address: String,
    pub private_key: String,
    pub identity_key: String,
    pub use_alert: bool,
    pub debug: bool,
}

impl Env {
    pub fn new() -> Self {
        Env {
            https_url: get_env("HTTPS_URL"),
            wss_url: get_env("WSS_URL"),
            bot_address: get_env("BOT_ADDRESS"),
            private_key: get_env("PRIVATE_KEY"),
            identity_key: get_env("IDENTITY_KEY"),
            use_alert: get_env("USE_ALERT").parse::<bool>().unwrap(),
            debug: get_env("DEBUG").parse::<bool>().unwrap(),
        }
    }
}

pub static COINBASE: &str = "0xDAFEA492D9c6733ae3d56b7Ed1ADB60692c98Bc5"; // Flashbots Builder

pub static WETH: &str = "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2";
pub static USDT: &str = "0xdAC17F958D2ee523a2206206994597C13D831ec7";
pub static USDC: &str = "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48";

/*
Can figure out the balance slot of ERC-20 tokens using the:
EvmSimulator::get_balance_slot method

However, note that this does not work for all tokens.
Especially tokens that are using proxy patterns.
*/
pub static WETH_BALANCE_SLOT: i32 = 3;
pub static USDT_BALANCE_SLOT: i32 = 2;
pub static USDC_BALANCE_SLOT: i32 = 9;

pub static WETH_DECIMALS: u8 = 18;
pub static USDT_DECIMALS: u8 = 6;
pub static USDC_DECIMALS: u8 = 6;

pub static VAULT_DEPLOY_BYTECODE: Bytes = Bytes::from_static(b"0x608060405234801561001057600080fd5b50600436106101a95760003560e01c806370a08231116100f9578063ba08765211610097578063ce96cb7711610071578063ce96cb771461038c578063d905777e1461039f578063dd62ed3e146103b2578063ef8b30f71461037957600080fd5b8063ba08765214610351578063c63d75b614610364578063c6e6f5921461037957600080fd5b8063a457c2d7116100d3578063a457c2d714610305578063a9059cbb14610318578063b3d7f6b91461032b578063b460af941461033e57600080fd5b806370a08231146102c157806394bf804d146102ea57806395d89b41146102fd57600080fd5b806323b872dd1161016657806339509351116101405780633950935114610288578063402d267d1461029b5780634cdad506146101de5780636e553f65146102ae57600080fd5b806323b872dd1461022f578063313ce5671461024257806338d52e0f1461025157600080fd5b806301e1d114146101ae57806306fdde03146101c957806307a2d13a146101de578063095ea7b3146101f15780630a28a4771461021457806318160ddd14610227575b600080fd5b6101b66103c5565b6040519081526020015b60405180910390f35b6101d1610455565b6040516101c0919061147a565b6101b66101ec3660046114ad565b6104e7565b6102046101ff3660046114e2565b6104fa565b60405190151581526020016101c0565b6101b66102223660046114ad565b610512565b6002546101b6565b61020461023d36600461150c565b61051f565b604051601281526020016101c0565b6040516001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001681526020016101c0565b6102046102963660046114e2565b610545565b6101b66102a9366004611549565b610567565b6101b66102bc366004611564565b610585565b6101b66102cf366004611549565b6001600160a01b031660009081526020819052604090205490565b6101b66102f8366004611564565b6105fd565b6101d1610617565b6102046103133660046114e2565b610626565b6102046103263660046114e2565b6106ac565b6101b66103393660046114ad565b6106ba565b6101b661034c366004611590565b6106c7565b6101b661035f366004611590565b610743565b6101b6610372366004611549565b5060001990565b6101b66103873660046114ad565b6107b7565b6101b661039a366004611549565b6107c4565b6101b66103ad366004611549565b6107e8565b6101b66103c03660046115cc565b610806565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561042c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061045091906115f6565b905090565b6060600380546104649061160f565b80601f01602080910402602001604051908101604052809291908181526020018280546104909061160f565b80156104dd5780601f106104b2576101008083540402835291602001916104dd565b820191906000526020600020905b8154815290600101906020018083116104c057829003601f168201915b5050505050905090565b60006104f4826000610831565b92915050565b600033610508818585610905565b5060019392505050565b60006104f4826001610a29565b60003361052d858285610ae3565b610538858585610b5d565b60019150505b9392505050565b6000336105088185856105588383610806565b610562919061165f565b610905565b6000610571610d2b565b61057c5760006104f4565b60001992915050565b600061059082610567565b8311156105e45760405162461bcd60e51b815260206004820152601e60248201527f455243343632363a206465706f736974206d6f7265207468616e206d6178000060448201526064015b60405180910390fd5b60006105ef846107b7565b905061053e33848684610d45565b600080610609846106ba565b905061053e33848387610d45565b6060600480546104649061160f565b600033816106348286610806565b9050838110156106945760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084016105db565b6106a18286868403610905565b506001949350505050565b600033610508818585610b5d565b60006104f4826001610831565b60006106d2826107c4565b8411156107215760405162461bcd60e51b815260206004820152601f60248201527f455243343632363a207769746864726177206d6f7265207468616e206d61780060448201526064016105db565b600061072c85610512565b905061073b3385858885610dd7565b949350505050565b600061074e826107e8565b84111561079d5760405162461bcd60e51b815260206004820152601d60248201527f455243343632363a2072656465656d206d6f7265207468616e206d617800000060448201526064016105db565b60006107a8856104e7565b905061073b3385858489610dd7565b60006104f4826000610a29565b6001600160a01b0381166000908152602081905260408120546104f4906000610831565b6001600160a01b0381166000908152602081905260408120546104f4565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b60008061083d60025490565b9050801561085e576108596108506103c5565b85908386610e97565b61073b565b61073b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa1580156108bf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108e39190611672565b6108ee90600a61177c565b60125b6108fc90600a61177c565b86919086610e97565b6001600160a01b0383166109675760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084016105db565b6001600160a01b0382166109c85760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b60648201526084016105db565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b600080610a3560025490565b9050831580610a42575080155b610a5257610859816108fc6103c5565b61073b610a616012600a61177c565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015610abf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108f19190611672565b6000610aef8484610806565b90506000198114610b575781811015610b4a5760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016105db565b610b578484848403610905565b50505050565b6001600160a01b038316610bc15760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b60648201526084016105db565b6001600160a01b038216610c235760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b60648201526084016105db565b6001600160a01b03831660009081526020819052604090205481811015610c9b5760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b60648201526084016105db565b6001600160a01b03808516600090815260208190526040808220858503905591851681529081208054849290610cd290849061165f565b92505081905550826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610d1e91815260200190565b60405180910390a3610b57565b600080610d366103c5565b11806104505750506002541590565b610d717f0000000000000000000000000000000000000000000000000000000000000000853085610ef9565b610d7b8382610f64565b826001600160a01b0316846001600160a01b03167fdcbc1c05240f31ff3ad067ef1ee35ce4997762752e3a095284754544f4c709d78484604051610dc9929190918252602082015260400190565b60405180910390a350505050565b826001600160a01b0316856001600160a01b031614610dfb57610dfb838683610ae3565b610e058382611043565b610e307f00000000000000000000000000000000000000000000000000000000000000008584611191565b826001600160a01b0316846001600160a01b0316866001600160a01b03167ffbde797d201c681b91056529119e0b02407c7bb96a4a2c75c01fc9667232c8db8585604051610e88929190918252602082015260400190565b60405180910390a45050505050565b600080610ea58686866111c1565b90506001836002811115610ebb57610ebb61178b565b148015610ed8575060008480610ed357610ed36117a1565b868809115b15610eeb57610ee860018261165f565b90505b95945050505050565b505050565b6040516001600160a01b0380851660248301528316604482015260648101829052610b579085906323b872dd60e01b906084015b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b031990931692909217909152611270565b6001600160a01b038216610fba5760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064016105db565b8060026000828254610fcc919061165f565b90915550506001600160a01b03821660009081526020819052604081208054839290610ff990849061165f565b90915550506040518181526001600160a01b038316906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200160405180910390a35050565b6001600160a01b0382166110a35760405162461bcd60e51b815260206004820152602160248201527f45524332303a206275726e2066726f6d20746865207a65726f206164647265736044820152607360f81b60648201526084016105db565b6001600160a01b038216600090815260208190526040902054818110156111175760405162461bcd60e51b815260206004820152602260248201527f45524332303a206275726e20616d6f756e7420657863656564732062616c616e604482015261636560f01b60648201526084016105db565b6001600160a01b03831660009081526020819052604081208383039055600280548492906111469084906117b7565b90915550506040518281526000906001600160a01b038516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200160405180910390a3505050565b6040516001600160a01b038316602482015260448101829052610ef490849063a9059cbb60e01b90606401610f2d565b60008080600019858709858702925082811083820303915050806000036111fb578382816111f1576111f16117a1565b049250505061053e565b80841161120757600080fd5b60008486880960026001871981018816978890046003810283188082028403028082028403028082028403028082028403028082028403029081029092039091026000889003889004909101858311909403939093029303949094049190911702949350505050565b60006112c5826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166113429092919063ffffffff16565b805190915015610ef457808060200190518101906112e391906117ca565b610ef45760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016105db565b606061073b8484600085856001600160a01b0385163b6113a45760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016105db565b600080866001600160a01b031685876040516113c091906117ec565b60006040518083038185875af1925050503d80600081146113fd576040519150601f19603f3d011682016040523d82523d6000602084013e611402565b606091505b509150915061141282828661141d565b979650505050505050565b6060831561142c57508161053e565b82511561143c5782518084602001fd5b8160405162461bcd60e51b81526004016105db919061147a565b60005b83811015611471578181015183820152602001611459565b50506000910152565b6020815260008251806020840152611499816040850160208701611456565b601f01601f19169190910160400192915050565b6000602082840312156114bf57600080fd5b5035919050565b80356001600160a01b03811681146114dd57600080fd5b919050565b600080604083850312156114f557600080fd5b6114fe836114c6565b946020939093013593505050565b60008060006060848603121561152157600080fd5b61152a846114c6565b9250611538602085016114c6565b929592945050506040919091013590565b60006020828403121561155b57600080fd5b61053e826114c6565b6000806040838503121561157757600080fd5b82359150611587602084016114c6565b90509250929050565b6000806000606084860312156115a557600080fd5b833592506115b5602085016114c6565b91506115c3604085016114c6565b90509250925092565b600080604083850312156115df57600080fd5b6115e8836114c6565b9150611587602084016114c6565b60006020828403121561160857600080fd5b5051919050565b600181811c9082168061162357607f821691505b60208210810361164357634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b808201808211156104f4576104f4611649565b60006020828403121561168457600080fd5b815160ff8116811461053e57600080fd5b6001815b60018411156116d0578085048111156116b4576116b4611649565b60018416156116c257908102905b60019390931c928002611699565b935093915050565b6000826116e7575060016104f4565b816116f4575060006104f4565b816001811461170a576002811461171457611730565b60019150506104f4565b60ff84111561172557611725611649565b50506001821b6104f4565b5060208310610133831016604e8410600b8410161715611753575081810a6104f4565b6117606000198484611695565b806000190482111561177457611774611649565b029392505050565b600061053e60ff8416836116d8565b634e487b7160e01b600052602160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b818103818111156104f4576104f4611649565b6000602082840312156117dc57600080fd5b8151801515811461053e57600080fd5b600082516117fe818460208701611456565b919091019291505056fea2646970667358221220fc945df37e52eee042ef4823306ac2211033621099265a8e73838401008420e164736f6c634300081a0033");
